Как писать тесты
==

1. Паттерн большинства тестов, обычно, это AAA: arrange (подготовили), act (что-то поделали), assert (проверили)
1. Стоит меньше писать юнит тестов и больше «интеграционных». Т.е. если можно потестировать ваш код через сервис в сборе или через ручку, лучше тестировать через них, чем тестировать отдельный метод или функцию. Мотивация здесь простая: юнит тесты требуют коллосальный объем поддержки. Как только вы меняете часть вашего кода, приходится переписывать большие пачки юнит тестов. В случае с интеграционными тестами это работает не так. Иногда даже не требуется ничего переписывать
1. Стоит использовать генерацию данных, не писать статические скаляры (вроде строк или чисел). Используйте везде, где возможно, faker. Так же, если возможно, стоит применять на ключевые кейсы [hypothesis](https://github.com/HypothesisWorks/hypothesis). Он делает ваши тесты значительно более надежными
1. Стоит использовать параметризацию. Лучшие тесты — те, которые проходят код по многу раз, поэтому старайтесь зайти в одни и те же места в несколько прогонов
1. По-умолчанию все тесты всегда должны запускаться параллельно, даже если их немного. Это позволяет всегда достигать параллелизируемости тестов с самого старта и защищаться от состояния когда ваши тесты могут работать только в один поток
 
