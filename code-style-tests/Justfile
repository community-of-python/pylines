install:
    uv sync

check-file filename:
    .venv/bin/ruff --config ../pyproject.toml check --no-fix {{filename}}
    .venv/bin/ruff --config ../pyproject.toml format --check {{filename}}
    .venv/bin/auto-typing-final --check {{filename}}
    cd .. && code-style-tests/.venv/bin/flake8 code-style-tests/{{filename}}

test *args: install
    .venv/bin/pytest -n 16 -v {{args}}
